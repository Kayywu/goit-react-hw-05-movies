{"version":3,"file":"static/js/968.660326be.chunk.js","mappings":"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","sources":["components/API/API.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","webpack://react-homework-template/./src/components/Input/Input.module.css?1f33","components/Input/Input.jsx","webpack://react-homework-template/./src/components/BtnLoadMore/BtnLoadMore.module.css?df0f","components/BtnLoadMore/BtnLoadMore.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst ApiKey = '58f5ba0dd29fe75c74a42e703247880c';\n\nexport const fetchTrending = async () => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${ApiKey}`\n  );\n\n  return response.data.results;\n};\n\nexport const fetchSearch = async (searchQuery, pageNumber) => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${ApiKey}&language=en-US&query=${searchQuery}&page=${pageNumber}&include_adult=false`\n  );\n\n  return response.data.results;\n};\n\nexport const fetchDetails = async movieId => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=${ApiKey}&language=en-US`\n  );\n\n  return response.data;\n};\n\nexport const fetchCast = async movieId => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${ApiKey}&language=en-US`\n  );\n\n  return response.data.cast;\n};\n\nexport const fetchReviews = async movieId => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${ApiKey}&language=en-US`\n  );\n\n  return response.data.results;\n};","// extracted by mini-css-extract-plugin\nexport default {\"movieLink\":\"Movies_movieLink__ERyJ6\"};","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Input_input__E5rzA\",\"btnSearch\":\"Input_btnSearch__nQRYr\"};","import React from 'react';\nimport styles from '../Input/Input.module.css';\n\nexport const Input = ({ onSubmit }) => {\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    const form = evt.currentTarget;\n    const searchQuery = form.elements.search.value;\n    form.reset();\n    onSubmit(searchQuery);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        name=\"search\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        className={styles.input}\n      />\n      <button type=\"submit\" className={styles.btnSearch}>\n        Search\n      </button>\n    </form>\n  );\n};","// extracted by mini-css-extract-plugin\nexport default {\"btnLoad\":\"BtnLoadMore_btnLoad__N7OGL\"};","import React from 'react';\nimport { PropTypes } from 'prop-types';\n\n\nimport styles from '../BtnLoadMore/BtnLoadMore.module.css';\n\nexport const BtnLoadMore = ({ onClick }) => (\n  <button onClick={onClick} className={styles.btnLoad}>\n    Load more\n  </button>\n);\n\nBtnLoadMore.propTypes = {\n  onClick: PropTypes.func,\n};","import React, { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nimport styles from '../Movies/Movies.module.css';\n\nimport { fetchSearch } from '../../components/API/API';\nimport { Input } from 'components/Input/Input';\nimport { BtnLoadMore } from '../../components/BtnLoadMore/BtnLoadMore';\nimport { Loader } from 'components/Loader/Loader';\n\nconst Movies = () => {\n  const location = useLocation();\n\n\n  const [searchMoviesData, setSearchMoviesData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query');\n\n\n  const handleSubmit = searchQuery => {\n    setSearchParams({ query: searchQuery });\n  };\n\n  useEffect(() => {\n    if (searchQuery === null) {\n      return;\n    }\n\n    const handleSearchMovie = async () => {\n      setIsLoading(true);\n      setPageNumber(1);\n\n      try {\n        const movies = await fetchSearch(searchQuery, 1);\n        setSearchMoviesData(movies);\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n        setPageNumber(p => p + 1);\n      }\n    };\n\n    handleSearchMovie();\n  }, [searchQuery]);\n\n\n  const handleLoadMore = async () => {\n    setIsLoading(true);\n\n    try {\n      const nextMovies = await fetchSearch(searchQuery, pageNumber);\n      setSearchMoviesData(searchMoviesData.concat(nextMovies));\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n      setPageNumber(pageNumber + 1);\n    }\n  };\n\n  return (\n    <>\n      <Input onSubmit={handleSubmit} />\n      <ul>\n        {searchMoviesData.map(movie => (\n          <li key={movie.id}>\n            <Link\n              id={movie.id}\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n              className={styles.movieLink}\n            >\n              {movie.original_title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n      {isLoading && <Loader />}\n      {searchMoviesData.length > 0 && (\n        <BtnLoadMore onClick={handleLoadMore} />\n      )}\n    </>\n  );\n};\n\nexport default Movies;"],"names":["ApiKey","fetchTrending","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","axios","concat","sent","abrupt","data","results","stop","apply","arguments","fetchSearch","_ref2","_callee2","searchQuery","pageNumber","_context2","_x","_x2","fetchDetails","_ref3","_callee3","movieId","_context3","_x3","fetchCast","_ref4","_callee4","_context4","cast","_x4","fetchReviews","_ref5","_callee5","_context5","_x5","Input","onSubmit","_jsxs","evt","preventDefault","form","currentTarget","elements","search","value","reset","children","_jsx","type","name","autoComplete","autoFocus","placeholder","className","styles","BtnLoadMore","onClick","location","useLocation","_useState","useState","_useState2","_slicedToArray","searchMoviesData","setSearchMoviesData","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","setPageNumber","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","useEffect","handleSearchMovie","movies","t0","console","error","p","finish","handleLoadMore","nextMovies","_Fragment","query","map","movie","Link","id","to","state","from","original_title","Loader","length"],"sourceRoot":""}